<div class="reset-password-div" *ngIf="!passwordChanged">
  <mat-card>

    <mat-card-header>
      <mat-card-title class="app-reset-password-title">
        {{ 'RESET_PASSWORD.RESET_PASSWORD' | translate }}
      </mat-card-title>
    </mat-card-header>
    <hr>

    <mat-card-content>

      <form [formGroup]="resetPasswordForm">

        <div class="reset-password-form-field">
          <label for="username" class="app-reset-password-label">{{ 'RESET_PASSWORD.USERNAME' | translate }}</label>

          <div class="username-input-container">
            <input id="username" class="app-reset-password-field"
              placeholder="{{'RESET_PASSWORD.PLACEHOLDERS.ENTER_USERNAME' | translate }}" formControlName="username"
              required type="text">
          </div>
        </div>

        <div class="reset-password-form-field">
          <label for="new-password" class="app-reset-password-label">{{ 'RESET_PASSWORD.NEW_PASSWORD' | translate
            }}</label>

          <div class="new-password-input-container">
            <input id="new-password" class="app-reset-password-field"
              placeholder="{{'RESET_PASSWORD.PLACEHOLDERS.ENTER_PASSWORD' | translate }}" formControlName="password"
              required [type]="passwordVisibility ? 'text' : 'password'">

            <button matSuffix mat-icon-button type="button" (click)="togglePasswordVisibility()">
              <mat-icon class="visibility-icon"> {{ passwordVisibility ? 'visibility_off' : 'visibility' }}</mat-icon>
            </button>
          </div>
        </div>

        <div class="reset-password-form-field">
          <label for="confirm-password" class="app-reset-password-label">{{ 'RESET_PASSWORD.RE_ENTER_NEW_PASSWORD' |
            translate }}</label>

          <div class="confirm-password-input-container">
            <input id="confirm-password" class="app-reset-password-field"
              placeholder="{{'RESET_PASSWORD.PLACEHOLDERS.CONFIRM_PASSWORD' | translate }}"
              formControlName="confirmPassword" required [type]="confirmPasswordVisibility ? 'text' : 'password'">

            <button matSuffix mat-icon-button type="button" (click)="toggleConfirmPasswordVisibility()">
              <mat-icon class="visibility-icon"> {{ confirmPasswordVisibility ? 'visibility_off' : 'visibility' }}
              </mat-icon>
            </button>
          </div>
        </div>

        <div class="password-mismatch-error" *ngIf="passwordMatchError()">
          {{ 'RESET_PASSWORD.ERRORS.PASSWORD_MISMATCH_ERROR' | translate }}
        </div>

        <button type="button" (click)="changePassword()" [disabled]="isSubmitButtonDisabled()"
          class="change-password-button" [attr.aria-label]="'PASSWORD.BUTTONS.SEND-INSTRUCTIONS' | translate"
          mat-raised-button color="primary">
          {{ 'RESET_PASSWORD.CHANGE_PASSWORD' | translate }}
        </button>

      </form>

    </mat-card-content>

  </mat-card>
</div>

<div class="reset-password-div" *ngIf="passwordChangeSuccess">
  <mat-card>

    <mat-card-header>
      <mat-card-title class="app-reset-password-title">
        {{ 'RESET_PASSWORD.RESET_PASSWORD_STATUS.RESET_PASSWORD_SUCCESSFUL' | translate }}
      </mat-card-title>
    </mat-card-header>
    <hr>

    <mat-card-content>
      <div>
        <p class="password-reset-message">
          {{ 'RESET_PASSWORD.RESET_PASSWORD_STATUS.SUCCESS_MESSAGE' | translate }}
        </p>
      </div>

      <button mat-button class="close-button" (click)="close()">
        {{ 'RESET_PASSWORD.CLOSE' | translate }}
      </button>
    </mat-card-content>

  </mat-card>
</div>

<div class="reset-password-div" *ngIf="passwordChangeFailure">
  <mat-card>

    <mat-card-header>
      <mat-card-title class="app-reset-password-title">
        {{ 'RESET_PASSWORD.RESET_PASSWORD_STATUS.RESET_PASSWORD_UNSUCCESSFUL' | translate }}
      </mat-card-title>
    </mat-card-header>
    <hr>

    <mat-card-content>
      <div>
        <p class="password-reset-message">
          {{ 'RESET_PASSWORD.RESET_PASSWORD_STATUS.FAILURE_MESSAGE' | translate }}
        </p>
      </div>

      <button mat-button class="close-button" (click)="close()">
        {{ 'RESET_PASSWORD.CLOSE' | translate }}
      </button>
    </mat-card-content>

  </mat-card>
</div>