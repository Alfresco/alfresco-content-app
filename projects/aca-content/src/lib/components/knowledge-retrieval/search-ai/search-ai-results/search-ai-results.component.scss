@import '@alfresco/adf-core/lib/styles/mat-selectors';

.aca-search-ai-results {
  aca-page-layout {
    .aca-page-layout-content {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100%;
      width: 100%;
      background-color: white;
      border-top: 1px solid var(--theme-grey-background-color);
      padding-top: 16px;

      .aca-search-ai-results-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        height: 100%;
        overflow-y: auto;
        min-width: 100%;

        &-wrapper {
          width: 100%;
          display: flex;
          justify-content: center;
          padding: 8px 0;
          position: relative;

          &-form-field {
            width: 52%;
            border-radius: 12px;
            padding: 20px 15px 50px;
            background: var(--theme-form-field-background-grey-color);
            border: 1px var(--theme-light-grey-3-color) solid;

            div {
              padding: 0;
              border: 0 solid transparent;
            }

            .aca-search-ai-results-container-wrapper-form-field-input {
              padding: 0;
              resize: none;
              height: 48px;
              margin-bottom: 4px;
              font-weight: 400;
            }

            &-cancel-button,
            &-update-button {
              position: absolute;
              bottom: -40px;
              right: 90px;
              background: transparent;
              padding-left: 0;
              padding-right: 0;
              height: 32px;
              border-radius: 6px;
              width: 78px;
            }

            &-update-button {
              right: 0;
            }
          }

          &-edit-button-disabled,
          &-edit-button {
            padding: 0;
            width: 30px;
            height: 30px;
            position: absolute;
            min-width: 30px;
            min-height: 30px;
            border-radius: 4px;
            top: 5px;
            right: -38px;

            &-icon {
              margin: 0;
              width: 20px;
              height: 20px;
              font-size: 20px;
            }
          }

          &-edit-button-disabled {
            top: -16px;
            right: -53px;
            background: transparent;
          }

          &-query {
            position: relative;
            width: 52%;
            border-radius: 12px;
            padding: 20px 15px 19px;
            background: var(--theme-card-background-grey-color);
          }
        }
      }

      .aca-search-ai-response-container {
        padding: 18px 20px;
        display: flex;
        flex-direction: column;
        border: 1px solid var(--adf-card-view-border-color);
        border-radius: 12px;
        margin: 4px 0 75px;
        width: 51%;
        justify-content: center;

        &-references-container-header {
          padding-left: 8px;
        }

        .adf-skeleton {
          position: relative;
          background-image: linear-gradient(
            to left,
            var(--theme-light-grey-1-color) 0%,
            var(--theme-light-grey-2-color) 20%,
            var(--theme-light-grey-3-color) 40%,
            var(--theme-light-grey-1-color) 100%
          );
          background-size: 200%;
          display: inline-block;
          height: 1em;
          overflow: hidden;
          width: 100%;
          margin-bottom: 0.5rem;
          border-radius: 0.25rem;

          &-half {
            width: 50%;
            margin-bottom: 8px;
          }

          &::after {
            position: absolute;
            inset: 0;
            transform: translateX(-100%);
            background-image: linear-gradient(90deg, rgba(white, 0) 0, rgba(white, 0.2) 20%, rgba(white, 0.5) 60%, rgba(white, 0));
            animation: shimmer 2s infinite;
            content: '';
          }

          @keyframes shimmer {
            100% {
              transform: translateX(100%);
            }
          }
        }

        &-error {
          border-color: var(--adf-error-color);
          padding: 32px 18px;

          &-message {
            display: flex;
            justify-content: space-between;
            align-items: center;

            &-regeneration-button {
              background-color: var(--adf-secondary-button-background);

              &-icon {
                font-size: 24px;
                height: 24px;
                width: 23px;
              }
            }
          }
        }

        &-body {
          &-response {
            margin-bottom: 17px;
            overflow-wrap: break-word;

            &-action {
              width: max-content;
              padding: 0;

              mat-icon {
                font-size: 17.25px;
              }

              &-regeneration {
                margin-left: 2px;
                margin-right: 2px;
              }

              &-thumb-down {
                margin-left: 4px;
              }

              #{$mat-button-touch-target} {
                width: 24px;
              }
            }
          }

          &-divider {
            margin-top: 9px;
          }

          &-references-container {
            padding-right: 8px;
            padding-left: 8px;

            &-header {
              margin-top: 16px;
              color: var(--theme-text-light-color);
              font-weight: 400;
              margin-bottom: 3px;
            }

            &-documents {
              padding-right: 5px;
              padding-top: 5px;
              margin-left: -2px;
              display: flex;
              gap: 21px;

              &-document {
                display: flex;
                flex-direction: row;
                padding-top: 7px;
                padding-bottom: 7px;

                &-icon {
                  padding-right: 11px;
                }

                &-name {
                  display: flex;
                  flex-direction: column;
                  width: 100%;
                  justify-content: center;
                }
              }
            }
          }
        }
      }
    }
  }
}
