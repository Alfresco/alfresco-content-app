{
    "version": "1.0.0",

    "references": [
        "plugin1.json",
        "plugin2.json"
    ],

    "rules": [
        {
            "id": "app.create.canCreateFolder",
            "type": "app.navigation.folder.canCreate"
        },
        {
            "id": "app.toolbar.canEditFolder",
            "type": "core.every",
            "parameters": [
                { "type": "rule", "value": "app.selection.folder" },
                { "type": "rule", "value": "app.selection.folder.canUpdate" }
            ]
        },
        {
            "id": "app.toolbar.canViewFile",
            "type": "app.selection.file"
        },
        {
            "id": "app.toolbar.canDownload",
            "type": "app.selection.canDownload"
        }
    ],

    "routes": [],

    "actions": [
        {
            "id": "aca:actions/create-folder",
            "type": "CREATE_FOLDER",
            "payload": null
        },
        {
            "id": "aca:actions/edit-folder",
            "type": "EDIT_FOLDER",
            "payload": null
        },
        {
            "id": "aca:actions/download",
            "type": "DOWNLOAD_NODES",
            "payload": null
        },
        {
            "id": "aca:actions/preview",
            "type": "VIEW_FILE",
            "payload": null
        },

        {
            "id": "aca:actions/info",
            "type": "SNACKBAR_INFO",
            "payload": "I'm a nice little popup raised by extension."
        },
        {
            "id": "aca:actions/node-name",
            "type": "SNACKBAR_INFO",
            "payload": "$('Action for ' + context.selection.first.entry.name)"
        }
    ],

    "features": {
        "create": [
            {
                "id": "app.create.folder",
                "type": "default",
                "icon": "create_new_folder",
                "title": "ext: Create Folder",
                "actions": {
                    "click": "aca:actions/create-folder"
                },
                "rules": {
                    "enabled": "app.create.canCreateFolder"
                }
            }
        ],
        "navbar": {
            "aca:main": [
                {
                    "id": "aca/personal-files",
                    "order": 100,
                    "icon": "folder",
                    "title": "APP.BROWSE.PERSONAL.SIDENAV_LINK.LABEL",
                    "description": "APP.BROWSE.PERSONAL.SIDENAV_LINK.TOOLTIP",
                    "route": "personal-files"
                },
                {
                    "id": "aca/libraries",
                    "order": 101,
                    "icon": "group_work",
                    "title": "APP.BROWSE.LIBRARIES.SIDENAV_LINK.LABEL",
                    "description": "APP.BROWSE.LIBRARIES.SIDENAV_LINK.TOOLTIP",
                    "route": "libraries"
                }
            ],
            "aca:secondary": [
                {
                    "id": "aca/shared",
                    "order": 100,
                    "icon": "people",
                    "title": "APP.BROWSE.SHARED.SIDENAV_LINK.LABEL",
                    "description": "APP.BROWSE.SHARED.SIDENAV_LINK.TOOLTIP",
                    "route": "shared"
                },
                {
                    "id": "aca/recent-files",
                    "order": 101,
                    "icon": "schedule",
                    "title": "APP.BROWSE.RECENT.SIDENAV_LINK.LABEL",
                    "description": "APP.BROWSE.RECENT.SIDENAV_LINK.TOOLTIP",
                    "route": "recent-files"
                },
                {
                    "id": "aca/favorites",
                    "order": 102,
                    "icon": "star",
                    "title": "APP.BROWSE.FAVORITES.SIDENAV_LINK.LABEL",
                    "description": "APP.BROWSE.FAVORITES.SIDENAV_LINK.TOOLTIP",
                    "route": "favorites"
                },
                {
                    "id": "aca/trashcan",
                    "order": 103,
                    "icon": "delete",
                    "title": "APP.BROWSE.TRASHCAN.SIDENAV_LINK.LABEL",
                    "description": "APP.BROWSE.TRASHCAN.SIDENAV_LINK.TOOLTIP",
                    "route": "trashcan"
                }
            ]
        },
        "viewer": {
            "openWith": [
                {
                    "disabled": false,
                    "id": "aca:viewer/action1",
                    "type": "default",
                    "order": 100,
                    "icon": "build",
                    "title": "Snackbar",
                    "actions": {
                        "click": "aca:actions/info"
                    }
                }
            ]
        },
        "content": {
            "actions": [
                {
                    "id": "aca:toolbar/separator-1",
                    "order": 5,
                    "type": "separator"
                },
                {
                    "id": "aca:toolbar/create-folder",
                    "type": "button",
                    "order": 10,
                    "title": "APP.NEW_MENU.TOOLTIPS.CREATE_FOLDER",
                    "icon": "create_new_folder",
                    "actions": {
                        "click": "aca:actions/create-folder"
                    },
                    "rules": {
                        "visible": "app.create.canCreateFolder"
                    }
                },
                {
                    "id": "aca:toolbar/preview",
                    "type": "button",
                    "order": 15,
                    "title": "APP.ACTIONS.VIEW",
                    "icon": "open_in_browser",
                    "actions": {
                        "click": "aca:actions/preview"
                    },
                    "rules": {
                        "visible": "app.toolbar.canViewFile"
                    }
                },
                {
                    "id": "aca:toolbar/download",
                    "type": "button",
                    "order": 20,
                    "title": "APP.ACTIONS.DOWNLOAD",
                    "icon": "get_app",
                    "actions": {
                        "click": "aca:actions/download"
                    },
                    "rules": {
                        "visible": "app.toolbar.canDownload"
                    }
                },
                {
                    "id": "aca:toolbar/edit-folder",
                    "type": "button",
                    "order": 30,
                    "title": "APP.ACTIONS.EDIT",
                    "icon": "create",
                    "actions": {
                        "click": "aca:actions/edit-folder"
                    },
                    "rules": {
                        "visible": "app.toolbar.canEditFolder"
                    }
                },
                {
                    "id": "aca:toolbar/separator-2",
                    "order": 200,
                    "type": "separator"
                }
            ]
        }
    }
}
